package tc.misc.dp;

// Single Round Match 348 Round 1 - Division II, Level Three

public class IncreasingSubsequence {
  public long count(int[] a) {
    long[]       s = new long[a.length];
    boolean[] used = new boolean[a.length];

    s[0] = 1;
    for (int i = 1; i < a.length; i++) {
      int max = Integer.MIN_VALUE;
      for (int j = i - 1; j >= 0; j--) {
        if (a[i] > a[j]) {
          if (a[j] > max) {
            s[i] += s[j];
            max = a[j];
          }
          used[j] = true;
        }
      }

      if (s[i] == 0)
        s[i] = 1;
    }

    long count = 0;
    for (int i = 0; i < a.length; i++)
      if (!used[i])
        count += s[i];
    return count;
  }

  public static void main(String[] _) {
    System.out.println(new IncreasingSubsequence().count(new int[]{1,3,2,6,4,5}));
    System.out.println(new IncreasingSubsequence().count(new int[]{1000000000,100000000,10000000,1000000,100000,10000,1000,100,10,1}));
    System.out.println(new IncreasingSubsequence().count(new int[]{1,10,100,1000,10000,100000,1000000,10000000,100000000,1000000000}));
    System.out.println(new IncreasingSubsequence().count(new int[]{564,234,34,4365,424,2234,306,21,934,592,195,2395,2396,29345,13295423,23945,2}));
    System.out.println(
        new IncreasingSubsequence().count(
            new int[]{161387517, 689478524, 284383363, 758216307, 898074775, 147083405, 194788115, 282343440, 154602515, 228297376, 847075325,
                722956387, 373527999, 198443107, 175799896, 342269492, 34333082, 92438230, 775905838, 361703644, 439632600, 382169550, 610891516,
                606837453, 884609122, 566701173, 200964662, 651239944, 947551059, 82117576, 48316353, 293366436, 195904379, 691094295, 182548086, 532303182}));
    System.out.println(
        new IncreasingSubsequence().count(
            new int[]{840730832, 49429944, 797976700, 938181488, 960841989, 540034785, 340307606, 115761449, 648296910, 34506113, 23410277,
                955539723, 532631827, 176515019, 711368877, 602300658, 951665298, 994219619, 641931845, 183014256, 751199835, 445921508, 
                467551896, 748892743, 58703701, 971268701, 203832868, 256526064, 30186423, 574118863, 922514174, 784104727, 603145104, 
                173235889, 531731276, 17245468, 632900928, 254188397, 300846538, 886864020, 887129596, 872285664, 177687109, 706683078, 
                719535694, 988707806, 112607267, 86090542, 190869139, 452607915}));
    System.out.println(
        new IncreasingSubsequence().count(
            new int[]{42610911, 39720718, 74133702, 73500579, 69932245, 129144364, 124951173, 109456901, 93801057, 158092660, 146098501, 143694794, 
                259205031, 257519070, 247742171, 367634178, 343895907, 316299707, 414940824, 411982310, 411328750, 397551286, 548618521, 518473148, 
                458896936, 453511568, 616509993, 600858623, 578389807, 699563806, 674442824, 660632469, 826680279, 787505345, 772363737, 757090131,
                870461041, 854392903, 834447450, 902721481, 883182384, 871390692, 956461258, 951553476, 938623451, 928732356, 988458645, 961101882, 
                37081475}));
  }
}

